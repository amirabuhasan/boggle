(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{213:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(20),s=n.n(o),i=(n(91),n(29)),l=n(76),c=n(47),d=n(11),u=n(12),h=n(14),m=n(13),p=n(15),f=(n(92),"board"),g=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).renderTile=function(e,t,a){var o=n.props,s=o.specialChar,i=o.handleChange,l=o.editingTile,c=o.specialTile;return t===c.index&&e===c.row&&""!==s?r.a.createElement("p",null,s):l&&t===l.index&&e===l.row?r.a.createElement("div",{className:"".concat(f,"__edit-char-container")},r.a.createElement("label",null,"Character:"),r.a.createElement("input",{className:"".concat(f,"__edit-char"),type:"text",name:"specialChar",onChange:i,autoFocus:!0})):r.a.createElement("p",null,a)},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.rows,a=t.validWord,o=t.handleSelectTile,s=t.isSelected,i=t.disabled;return r.a.createElement("div",{className:f},r.a.createElement("div",{className:"".concat(f,"__container")},n.map(function(t,n){return r.a.createElement("div",{className:"".concat(f,"__row display--flex"),key:n},t.map(function(t,l){return r.a.createElement("div",{className:"".concat(f,"__tile ").concat(i&&!s(n,l)?"disabled":""),onClick:function(){return o(n,l,t)},key:l,style:{backgroundColor:s(n,l)?a?"#00e676":"#f44336":""}},e.renderTile(n,l,t))}))})))}}]),t}(a.Component),w=n(77),b=n.n(w),v=n(36),E=n.n(v),y=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(h.a)(this,Object(m.a)(t).call(this,e))).convertSecondsToReadableTime=function(e){var t=1e3*e;return E.a.utc(t).format("mm:ss")},n.state={seconds:e.seconds},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){e.startCountdown!==this.props.startCountdown&&this.props.startCountdown&&this.startTimer()}},{key:"startTimer",value:function(){var e=this,t=this.props,n=t.seconds,a=t.handleEndCountdown,r=n,o=setInterval(function(){r-=1,e.setState({seconds:r}),r<=0&&(clearInterval(o),setTimeout(function(){a()},100))},1e3)}},{key:"render",value:function(){return r.a.createElement("div",{className:"timer"},r.a.createElement("p",null,this.convertSecondsToReadableTime(this.state.seconds)))}}]),t}(a.Component),T=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.score,n=e.startCountdown,a=e.handleEndCountdown,o=e.seconds,s=e.handleReplay,i=localStorage.getItem("high_score");return r.a.createElement("div",{className:"top-bar"},i&&r.a.createElement("p",{className:"".concat("top-bar","__score")},"High score: ",i),r.a.createElement("p",{className:"".concat("top-bar","__score")},"Your score: ",t),r.a.createElement(y,{seconds:o,startCountdown:n,handleEndCountdown:a}),r.a.createElement(b.a,{className:"".concat("top-bar","__replay-icon"),onClick:s},"replay"))}}]),t}(a.Component),C=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.answers;return r.a.createElement("ul",{className:"answers-list"},e.map(function(e,t){return r.a.createElement("li",{className:"".concat("answers-list","__answer"),key:t},e)}))}}]),t}(a.Component),S=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.currentWord;return r.a.createElement("div",{className:"current-word"},r.a.createElement("p",null,e))}}]),t}(a.Component),O=n(79),j=n.n(O),k=n(46),x=n.n(k),_=n(80),N=n.n(_),W=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.showError,n=e.errorMessage,a=e.handleClose;return r.a.createElement(j.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:t,autoHideDuration:3e3,onClose:a,ContentProps:{"aria-describedby":"message-id"}},r.a.createElement(x.a,{classes:{root:"error-banner"},ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id",className:"".concat("error-banner","__message")},n,r.a.createElement(N.a,{className:"".concat("error-banner","__icon")})),variant:"error"}))}}]),t}(a.Component),M=n(25),B=n.n(M),I=n(81),R=n.n(I),A=n(85),J=n.n(A),L=n(83),P=n.n(L),Y=n(84),F=n.n(Y),D=n(82),H=n.n(D),U=n(45),V=n.n(U);function z(e){return r.a.createElement(V.a,Object.assign({direction:"up"},e))}var G=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).convertSecondsToReadableTime=function(e){var t=1e3*e;return E.a.utc(t).format("m")},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.handleClose,o=e.score,s=e.seconds,i=!!t,l=localStorage.getItem("high_score"),c={start:{header:"Welcome to the game!",subheader:r.a.createElement(a.Fragment,null,r.a.createElement("span",null,"You will be playing a game called Boggle.The goal is to find as many 3 - 4 character words as possible in ",this.convertSecondsToReadableTime(s)>1?this.convertSecondsToReadableTime(s)+" minutes":this.convertSecondsToReadableTime(s)+" minute",'. Special characters are denoted by "*", and can be substituted with any character of your choice.'),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("span",null,"Good luck!")),cta:"Okie!"},end:{header:l&&o>l?"Congratulations! You set a new high score.":"Times up!",subheader:r.a.createElement(a.Fragment,null,l&&r.a.createElement(a.Fragment,null,r.a.createElement("span",null,"High score: ",r.a.createElement("strong",null,l)),r.a.createElement("br",null)),r.a.createElement("span",null,"Your score: ",r.a.createElement("strong",null,o))),cta:"Play again"}}[t];return i?r.a.createElement(R.a,{className:"modal",fullWidth:!0,open:i,TransitionComponent:z,keepMounted:!0,onClose:n,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(H.a,{id:"alert-dialog-slide-title"},c.header),r.a.createElement(P.a,null,r.a.createElement(F.a,{id:"alert-dialog-slide-description"},c.subheader)),r.a.createElement(J.a,null,r.a.createElement(B.a,{onClick:n,color:"primary"},c.cta))):r.a.createElement("div",null)}}]),t}(a.Component),$=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={dictionary:[],boardRows:[],selectedTiles:[],validWord:!1,answers:[],anyChar:"",editingTile:null,specialChar:"",specialTile:{},showError:!1,errorMessage:"",modalText:"",modalType:"",startCountdown:!1},n.onPressEnter=function(e){var t=n.state.modalType;"Enter"===e.key&&(t?n.closeModal():n.submitAnswer())},n.shuffleTiles=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),a=[e[n],e[t]];e[t]=a[0],e[n]=a[1]}return e},n.openModal=function(e){n.setState({modalType:e})},n.closeModal=function(){switch(n.state.modalType){case"start":n.handleStartCountdown();break;case"end":n.handleReplay()}n.setState({modalType:""})},n.resetBoard=function(){n.setState({selectedTiles:[],specialChar:"",specialTile:{},validWord:!1,editingTile:null})},n.handleReplay=function(){localStorage.setItem("is_replay",!0),window.location.reload()},n.handleSelectTile=function(e,t,a){var r=n.state.specialChar,o={row:e,index:t,character:a};n.isEditing(!1),n.checkSelected(o)?n.unSelectTile(o,a):n.isAdjacent(o)?"*"===a?r?n.showErrorBanner("You can only use one special character per word"):n.isEditing(a,o):n.state.selectedTiles.find(function(n){return n.row===e&&n.index===t})||(n.selectTile(o,a),n.isSelected(e,t)):n.showErrorBanner("Choose a tile that is adjacent to the last tile")},n.selectTile=function(e){n.setState({selectedTiles:[].concat(Object(c.a)(n.state.selectedTiles),[e])},function(){n.isValidWord()})},n.unSelectTile=function(e,t){var a=!1,r=n.state.selectedTiles.filter(function(t){return JSON.stringify({row:t.row,index:t.index})!==JSON.stringify({row:e.row,index:e.index})});if(r.length>0)for(var o=function(e){var t=r.filter(function(t){return JSON.stringify({row:t.row,index:t.index})!==JSON.stringify({row:r[e].row,index:r[e].index})});if(!n.isAdjacent(r[e],t))return a=!1,"break";a=!0},s=0;s<r.length;s++){if("break"===o(s))break}else a=!0;a?(n.setState({selectedTiles:r},function(){return n.isValidWord()}),"*"===t&&n.setState({specialChar:""})):n.showErrorBanner("Your tiles won't be adjacent if you remove this tile!")},n.checkSelected=function(e){return n.state.selectedTiles.find(function(t){return JSON.stringify({row:t.row,index:t.index})===JSON.stringify({row:e.row,index:e.index})})},n.isEditing=function(e,t){e?n.checkSelected(t)||(n.state.editingTile?n.setState({editingTile:null}):(n.setState({editingTile:t}),n.setState({specialTile:t}))):n.setState({editingTile:null})},n.handleChange=function(e){var t,a=e.target.name,r=e.target.value.toUpperCase();n.setState((t={},Object(i.a)(t,a,r),Object(i.a)(t,"specialTile",Object(l.a)({},n.state.specialTile,{character:r})),t),function(){n.selectTile(n.state.specialTile,r)}),n.isSelected(n.state.specialTile.rowIndex,n.state.specialTile.index)},n.isValidWord=function(){var e=n.state.dictionary,t=n.getCurrentWord();t.length>=3&&e.includes(t.toLowerCase())?n.setState({validWord:!0}):n.setState({validWord:!1})},n.getCurrentWord=function(){return n.state.selectedTiles.map(function(e){return e.character}).join("")},n.isAdjacent=function(e,t){var a=n.state.selectedTiles,r=t||a;return 0===r.length||(t?r.find(function(t){return Math.abs(t.row-e.row)<=1&&Math.abs(t.index-e.index)<=1}):Math.abs(r[r.length-1].row-e.row)<=1&&Math.abs(r[r.length-1].index-e.index)<=1)},n.isSelected=function(e,t){return n.state.selectedTiles.find(function(n){return n.row===e&&n.index===t})},n.submitAnswer=function(){var e=n.state,t=e.validWord,a=e.answers,r=n.getCurrentWord();a.includes(r)?n.showErrorBanner("Oops! It seems like you've already selected the word!"):t?(n.setState({answers:[].concat(Object(c.a)(n.state.answers),[r])}),n.resetBoard()):r.length<3?n.showErrorBanner("Oops! It seems your word has less than 3 characters!"):n.showErrorBanner("It seems that this is not a valid word.")},n.showErrorBanner=function(e){n.setState({showError:!0,errorMessage:e})},n.closeErrorBanner=function(){n.setState({showError:!1,errorMessage:""})},n.handleStartCountdown=function(){n.setState({startCountdown:!0})},n.handleEndCountdown=function(){var e=10*n.state.answers.length;setTimeout(function(){(e>0&&!localStorage.getItem("high_score")||e>localStorage.getItem("high_score"))&&localStorage.setItem("high_score",e)},500),n.openModal("end")},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){localStorage.getItem("is_replay")?(e.handleStartCountdown(),localStorage.removeItem("is_replay")):e.openModal("start")},100),fetch("data/dictionary.txt").then(function(e){return e.text()}).then(function(t){return e.setState({dictionary:t.toLowerCase().split("\n")})}),fetch("data/testBoard.txt").then(function(e){return e.text()}).then(function(t){for(var n=t.split(", "),a=e.shuffleTiles(n),r=[];a.length>0;)r.push(a.splice(0,4));e.setState({boardRows:r})}),document.addEventListener("keydown",this.onPressEnter)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onPressEnter)}},{key:"render",value:function(){var e=this.state,t=e.dictionary,n=e.boardRows,o=e.validWord,s=e.answers,i=e.editingTile,l=e.specialChar,c=e.specialTile,d=e.selectedTiles,u=e.showError,h=e.errorMessage,m=e.modalType,p=e.startCountdown,f=0===t.length||0===n;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"container"},r.a.createElement(W,{handleClose:this.closeErrorBanner,showError:u,errorMessage:h}),r.a.createElement(G,{type:m,handleClose:this.closeModal,score:10*s.length,seconds:300}),r.a.createElement(T,{score:10*s.length,startCountdown:p,handleEndCountdown:this.handleEndCountdown,seconds:300,handleReplay:this.handleReplay}),f?r.a.createElement("div",null,"Loading..."):r.a.createElement(a.Fragment,null,r.a.createElement(g,{rows:n,maxWordLength:4,dictionary:t,handleSelectTile:this.handleSelectTile,validWord:o,isSelected:this.isSelected,submitChar:this.submitChar,editingTile:i,specialChar:l,handleChange:this.handleChange,specialTile:c,disabled:4===d.length}),r.a.createElement(S,{currentWord:this.getCurrentWord()}),r.a.createElement("div",{style:{display:"flex",marginBottom:"20px"}},r.a.createElement(B.a,{variant:"contained",color:"secondary",onClick:this.submitAnswer,style:{marginRight:"10px"}},"Submit Answer"),r.a.createElement(B.a,{variant:"contained",onClick:this.resetBoard},"Clear")),r.a.createElement(C,{answers:s}))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},86:function(e,t,n){e.exports=n(213)},91:function(e,t,n){},92:function(e,t,n){}},[[86,1,2]]]);
//# sourceMappingURL=main.97e3c91b.chunk.js.map